<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/client/layout}"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/client/css/modifyInfo.css}">
    <title>회원정보변경</title>
</head>
<th:block layout:fragment="content">
    <section>
        <div id="main_category_route">
            <ul class="route_list">
                <li id="route_home" onclick="location.href='/'"><img th:src="@{/client/images/icon/home.png}" alt="메인화면"></li>
                <li>&gt;</li>
                <li id="route_mypage" onclick="location.href='mypage'">MY페이지</li>
                <li>&gt;</li>
                <li>회원정보변경</li>
            </ul>
            <div id="contents">
                <form th:action="@{/myshop/modifyInfo}" id="modify" method="post">
                    <h1 id="modify_header">회원정보변경</h1>
                    <table id="contents_table">
                        <tr>
                            <th>이름</th>
                            <td colspan="2"><input type="text" name="name" id="name" maxlength="30" readonly
                                                   th:value="${name}"></td>
                        </tr>
                        <tr>
                            <th>생년월일</th>
                            <td colspan="2"><input type="date" name="birthday" id="birthday" th:value="${birthday}">
                            </td>
                        </tr>
                        <tr>
                            <th>성별</th>
                            <td colspan="2">
                                <label for="male">남</label>
                                <input type="radio" name="gender" id="male" value="M" required
                                       th:checked="${gender=='M'}">
                                <label for="female">여</label>
                                <input type="radio" name="gender" id="female" value="F" required
                                       th:checked="${gender=='F'}">
                            </td>
                        </tr>
                        <tr>
                            <th>아이디</th>
                            <td>
                                <input type="text" name="userId" id="userId" maxlength="20" readonly
                                       th:value="${userId}">
                            </td>
                        </tr>
                        <tr>
                            <th>변경할비밀번호</th>
                            <td><input type="password" id="userPwd" name="userPwd" maxlength="13" required></td>
                            <td>공백없는 7~13자리의 영문/숫자/특수문자<br>
                                <span id="warning">특수문자는 !@#$%^&* 사용가능</span>
                            </td>
                        </tr>
                        <tr id="email_row">
                            <th>이메일</th>
                            <td colspan="2">
                                <div id="email_input_wrap">
                                    <input type="email" name="email" id="email" required th:value="${email}">
                                    <input id="email_button" value="이메일인증" type="button">
                                </div>
                                <div id="email_authentication">
                                    <div>인증번호</div>
                                    <input type="text" id="email_authentication_number"
                                           name="emailAuthenticationNumber">
                                    <input type="text" id="hidden_certified_key" name="hiddenCertifiedKey" hidden>
                                    &nbsp;
                                    <input type="button" id="email_authentication_button" value="인증하기">
                                    &nbsp;
                                    <span id="reload_timer">05:00</span>
                                    &nbsp;
                                    <img src="/client/images/icon/reload.png" alt="시간연장" id="reload">
                                </div>
                                <div id="email_message"></div>
                                <div>
                                    email 서비스를 받으시겠습니까?&nbsp;
                                    <input type="radio" name="emailService" id="email_yes" value="Y" required
                                           th:checked="${emailService=='Y'}"><label
                                        for="email_yes">&nbsp;예</label>
                                    <input type="radio" name="emailService" id="email_no" value="N" required
                                           th:checked="${emailService=='N'}"><label
                                        for="email_no">&nbsp;아니오</label>
                                </div>
                                <div>
                                    주문 및 배송 관련 정보는 수신 동의와 상관없이 자동 발송됩니다.
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th>휴대전화</th>
                            <td colspan="2"><input type="text" id="phone" name="phone" placeholder="01011112222(- 생략)"
                                                   required th:value="${phone}">
                            </td>
                        </tr>
                    </table>
                    <div id="bottom_buttons">
                        <input type="button" name="withdrawal_button" id="withdrawal_button" value="회원탈퇴신청"
                               onclick="location.href='/myshop/withdrawalReason'">
                        <input type="button" name="go_back_button" id="go_back_button" value="뒤로가기"
                               onclick="location.href='/myshop/mypage'">
                        <input type="submit" name="modify_button" id="modify_button" value="회원수정">
                    </div>
                </form>
            </div>
        </div>
    </section>
    <script th:src="@{/client/js/modifyInfo.js}"></script>
</th:block>
</html>